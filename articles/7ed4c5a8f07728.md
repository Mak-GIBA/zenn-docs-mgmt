---
title: "綺麗なコードを書くためのTips ~プログラムの再構成~"
emoji: "🦔"
type: "tech"
topics: []
published: false
---


- プログラムの主目的と関係ない「無関係の下位問題」を抽出する。
- コードを再構成して，一度に1つのことをやるようにする。
- 最初にコードを言葉で説明する。その説明を元にして綺麗な解決策を作る。
- コードを理解しやすくするにはコードを書かないのが一番

# 無関係な下位問題を抽出する
プロジェクト固有のコードと汎用コードを分ける
## 低レベルの目標は関数化する
- コードが独立していると改善が楽になる

## 汎用コードを積極的に作る
-ユーティリティコードとは特定のタスクや機能を補助するために設計された小さなコードの関数群。
- プログラムの核となる基本的なタスクはプログラミングの組み込みライブラリとして実装されている場合が多いが，ない場合はユーティリティコードとして実装する。例えば，特定の形式でファイルの読み書きを行う場合にはその処理を担うユーティリティコード(関数)を書くと良い

- 複数のプロジェクトで再利用できるように，汎用コード(ファイルの読み書き，フォーマットの整理)として独立させたコードは`util/`というディレクトリに格納する。
- プロジェクトから完全に切り離されているコードは開発もテストも理解も容易

- 抽出する下位問題はプロジェクトから完全に独立したものである方がよいが，完全に独立していなくてもそれはそれで問題ない。下位問題を取り除くだけでも効果がある。
## 綺麗なインタフェースを持つライブラリを作る
- 引数が少なくて事前設定も必要なくて面倒なことをしなくても使える綺麗なインタフェースを備えるライブラリを作ると良い。
- インタフェースが綺麗ではなくても「ラップ」関数は作ることができる
- 自分でラッパー関数を用意して手も足も出ない汚いインタフェースを覆い隠す
- 小さな関数を作りすぎると，あちこちに飛び回る実行パスを追いかけることになるため逆に読みにくくなる。
# 一度に1つのタスクを実施する
